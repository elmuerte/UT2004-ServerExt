<h1>ServerExt</h1>
ServerExt is a package containing extentions for UT2004 servers. It consist out of a couple of independed components:
<ul>
	<li>Chat Filter</li>
	<li>Player join log</li>
	<li>Remote stats</li>
	<li>Reserved slots</li>
	<li>RSS Feed Mutator</li>
	<li>ServQuery</li>
	<li>Stats chat log</li>
	<li>Team Balance mutator</li>
</ul>
More components will be added in the future. <br />
The ServerExt package is being developed by <a href="http://wiki.beyondunreal.com/wiki/ElMuerte">Michiel "El Muerte" Hendriks</a>. This is an unofficial add-on and not supported by Atari support.

<h2>Downloads</h2>
New versions of this package can be downloaded from <a href="http://ut2004.elmuerte.com/ServerExt">the ServerExt website</a>.<br />
<ul>
	<li>Version 108 <a href="http://ut2004.elmuerte.com/files/ServerExt-v108.zip">[zip]</a> <a href="http://ut2004.elmuerte.com/files/ServerExt-v108-ut4mod.zip">[ut4mod]</a></li>
	<li>Version 107 <a href="http://ut2004.elmuerte.com/files/ServerExt-v107.zip">[zip]</a> <a href="http://ut2004.elmuerte.com/files/ServerExt-v107-ut4mod.zip">[ut4mod]</a></li>
	<li>Version 106 <a href="http://ut2004.elmuerte.com/files/ServerExt-v106.zip">[zip]</a> <a href="http://ut2004.elmuerte.com/files/ServerExt-v106-ut4mod.zip">[ut4mod]</a></li>
	<li>Version 105b <a href="http://ut2004.elmuerte.com/files/ServerExt-v105b.zip">[zip]</a> <a href="http://ut2004.elmuerte.com/files/ServerExt-v105b-ut4mod.zip">[ut4mod]</a></li>
	<li>Version 105a <a href="http://ut2004.elmuerte.com/files/ServerExt-v105a.zip">[zip]</a> <a href="http://ut2004.elmuerte.com/files/ServerExt-v105a-ut4mod.zip">[ut4mod]</a></li>
	<li>Version 105 <a href="http://ut2004.elmuerte.com/files/ServerExt-v105.zip">[zip]</a> <a href="http://ut2004.elmuerte.com/files/ServerExt-v105-ut4mod.zip">[ut4mod]</a></li>
	<li>Version 104 <a href="http://ut2004.elmuerte.com/files/ServerExt-v104.zip">[zip]</a> <a href="http://ut2004.elmuerte.com/files/ServerExt-v104-ut2mod.zip">[ut2mod]</a></li>
	<li>Version 103 <a href="http://ut2004.elmuerte.com/files/ServerExt-v103.zip">[zip]</a> <a href="http://ut2004.elmuerte.com/files/ServerExt-v103-ut2mod.zip">[ut2mod]</a></li>
	<li>Version 102 <a href="http://ut2004.elmuerte.com/files/ServerExt-v102.zip">[zip]</a> <a href="http://ut2004.elmuerte.com/files/ServerExt-v102-ut2mod.zip">[ut2mod]</a></li>
	<li>Version 101 <a href="http://ut2004.elmuerte.com/files/ServerExt-v101.zip">[zip]</a> <a href="http://ut2004.elmuerte.com/files/ServerExt-v101-ut2mod.zip">[ut2mod]</a></li>
	<li>Version 100 <a href="http://ut2004.elmuerte.com/files/ServerExt-v100.zip">[zip]</a></li>
</ul>

<h2>License for ServerExt</h2>
<pre>
<a href="http://wiki.beyondunreal.com/wiki/OpenUnrealModLicense">Open Unreal Mod License</a>
Version 1.1, September 2005

0. Definitions
"Program"       the work, either in binary or source form, that has a notice 
                attached to it stating that it has been released under this 
                license by the copyright holder.
"Modification"  a derivative of the Program or any other work based on the Program
"Linking"       using parts of the Program, or using parts of any other work, 
                thus creating a direct dependency between two Programs.
"You"           the licensee
"Runtime Environment"
                the virtual machine or operating system required to run the 
                Program, as released by the Publisher or Creator of said
                runtime environment. This includes any extentions or updates
                for the runtime environment released by the Publisher or 
                Creator.

1. License
Herewith everybody is granted permission to copy and distribute verbatim copies 
of this document. The only restriction lies on changing the content, with the 
exception to translation of this license.

This license applies to the Program that has been released under this license. 
The license only applies to copying, distribution and modification of the 
Program. Execution or output of the Program are not covered by this license, 
however the right for additional limitations on the use (that do not cover 
copying, distribution or modification) is granted to the copyright holder.
This license is only valid when all terms in this license comply with the 
licenses of the dependecies of the Program. This includes the license of the
possible required runtime envoirement.

2. Copying and distribution
You are granted to copy or distribute verbatim copies of the Program, on any 
medium, or in any format as you see fit. You are not limited to charging a fee 
for the physical act of transferring the copy, nor are you limited to provide 
warranty for the Program in return of a fee. Unless this is prohibited by the
license of the Runtime Environment.

Any distribution of the program should be accompanied with a verbatim copy of 
this license.

3. Modification
You are allowed to modify the Program, or portions of it, therefore making it a 
derivate of the Program. You are allowed to distribute your Modification under 
the following conditions:
        - You must clearly state that it is a modification of the Program
        - The original copyright notice must be kept intact
        - The modified files must contain notices of the changes made to it
        - The Modification must be released under the same license as the Program
        - Distribution happens in compliance with section 2

4. Source
The original source of the Program or Modification must be freely available on 
request.

5. Linking
The Program or Modification may only link with other work that have been 
released as free software.

The license grants exclusive right to link with any non-free part of the 
Runtime Environment, as provided by the publisher or creator of said Runtime 
Environment. 
Using addapted portions of source code available in the runtime environment 
in the Program is only allowed under the following terms:
        - the addapted code is clearly marked to originate from the runtime
          environment, quoting the original copyright.
        - the following notice is added to the top of the file:
          "This file contains portions of code from the runtime environment."

6. NON WARRANTY
THIS SOFTWARE DOES NOT COME WITH A WARRANTY OF ANY KIND, UNLESS NOTED OTHERWISE 
BY THE COPYRIGHT HOLDER OR WARRANTY PROVIDER. THE ENTIRE RISK OF THE PERFORMANCE 
AND QUALITY OF THE PROGRAM LIES WITH YOU. SHOULD THE PROGRAM PROVE DEFECTIVE, 
YOU WILL ASSUME ALL COSTS FOR REQUIRED REPAIR OR CORRECTION.
</pre>

<h2>Revision history</h2>

<h3>Changes since v108</h3>
<ul>
	<li>Fixed a performance issue in the ChatFilter bad name checking [BT#11]</li>
	<li>Changed critical player check to use the GameInfo's CriticalPlayer function</li>
	<li>Made the broadcast handler check more foolproof. This can be disabled for ChatFilter and StatsChatLog by setting bDisableBHFix=false</li>
</ul>

<h3>Changes since v107</h3>
<ul>
	<li>Fixed non scrolling webadmin pages</li>
	<li>RSS: Fixed crach on long descriptions, there are now capped at 512 chars</li>
	<li>Upgraded to LibHTTP 4</li>
	<li>ReservedSlots: added SOM_KickBestSPM and SOM_KickWorstSPM slot open methods (SPM = score per minute)</li>
	<li>ReservedSlots: added bSilentAdmin option to hide admin logins</li>
	<li>ReservedSlots: added bProtectAdmins option to protect admins from being kicked</li>
	<li>RSS: Added ability to edit the feed content through the webadmin</li>
	<li>ChatFilter+Stats chat log: Added workaround for UT2Vote's broken broadcast handler</li>
</ul>

<h3>Changes since v106</h3>
<ul>
	<li>ReservedSlots: reserved slots users won't be kicked to make room</li>
	<li>Fixed ChatFilter's warning mutator not loading</li>
	<li>Fixed crash when you add too many reserved slots</li>
	<li>Removed log verbosity for remote stats</lI>
</ul>


<h3>Changes since v105b</h3>
<ul>
	<li>Fixed BM_Sequential mode for mutRSS</li>
	<li>Client packages split up into two: one for ChatFilter and one for mutRSS</li>
	<li>mutRSS now uses LibHTTP3</li>
	<li>Fixed recursion issue in ChatFilter (e.g. replace xxx -> x doesn't crash the server anymore)<li>
	<li>Fixed an issue with spaces in bad words</li>
	<li>Fixed warning mutator for ChatFilter</li>
	<li>Added a new option: bWarnVoting, only when this is set the voting mutator will be used and allow people to vote on a judgement of a player.</li>
	<li>Fixed the Team Balancer where the wrong spawn points where used.</li>
	<li>Added a new module: Remote stats, this will POST the stats to a website</lI>
</ul>

<h3>Changes since v105a</h3>
<ul>
	<li>ReservedSlots, ReservedSlotsIni and SlotManager are now compiled with `parseconfig`. This means you change the config file to use on the commandline: <code>-ReservedSlots=myini.ini</code>, <code>-ReservedSlotsIni=myini.ini</code>, <code>-SlotManager=myini.ini</code>. The settings in the system config are loaded before the specified config file.</li>
</ul>

<h3>Changes since v105</h3>
<ul>
	<li>Fixed a couple of issues with text fields in the webadmin</li>
	<li>Fixed reserved slots using name or password as check</li>
</ul>

<h3>Changes since v104</h3>
<ul>
	<li>Removed bFriendlymessage from ChatFilter, friendly messages are now always used and doesn't require the client side package</li>
	<li>Added reserved slot feature</li>
	<li>Added team balancer mutator</li>
	<li>Fixed chat logging for spectators, requires an updated version of utstatsdb before it work (any version newer than 2.21)</li>
	<li>Fixed gamepassword not being passed by ServQuery</li>
</ul>

<h3>Changes since v103</h3>
<ul>
	<li>Removed debug log spam</li>
	<li>Fixed a couple of accessed nones in chatfilter</li>
</ul>

<h3>Changes since v102</h3>
<ul>
	<li>The RSS Feed configuration can now also be saved in an other config file than the RSS.ini. This has been added for GISPs, if you do not host multiple servers from the same location with different admins, then you should not use this feature.</li>
	<li>Fixed "sequential" feed order with only one available feed</li>
	<li>Fixed the client side browser</li>
	<li>Added a new config option to MutRSS: bAnnounce<br />This will controll announcing this mutator to the master server</li>
	<li>Fixed incorrect chatlogging in chatfilter</li>
	<li>Fixed a couple of accessed nones in chatfilter</li>
</ul>

<h3>Changes since v101</h3>
<ul>
	<li>Included the webadmin pages for MutRSS</li>
	<li>Fixed MutRSS webadmin removing admin\users tab</li>
</ul>

<h3>Changes since v100</h3>
<ul>
	<li>Fixed duplicate chat log entries</li>
	<li>Ported the ChatFilter from UT2003</li>
</ul>

<h2>General Installation</h2>
Copy the following files to the System directory of your UT2004 servers:
<ul>
	<li>LibHTTP4.u</li>
	<li>ServerExt.int</li>
	<li>ServerExt.u</li>
	<li>ServerExt.ucl</li>
	<li>ServerExtClientA.u</li>
	<li>ServerExtClientA.int</li>
	<li>ServerExtClientB_2.u</li>
	<li>ServerExtClientB_2.int</li>
	<li>wUtils.u</li>
</ul>
Remove the old ServerExtClient.u, ServerExtClient10*.u files from you system and configuration.<br />
<br />
Copy the following files to the Web\ServerAdmin directory of your UT2004 servers:
<ul>
	<li>rssfeeds.htm</li>
	<li>sexframe.htm</li>
	<li>slotmanager.htm</li>
	<li>slotmanager-entry.inc</li>
</ul>
<b>Note:</b> do <b>not</b> add any of the packages to the ServerPackages list. When a package needs to be added to that list ServerExt will do that automatically.

<h2>Documentation</h2>
Documentation for ServerExt can be found on the <a href="http://wiki.unrealadmin.org/ServerExt">UnrealAdminWiki</a>.<br />
<br />
If you find any bugs or have feature requests you can submit them to the <a href="http://www.unrealadmin.org/bugtraq/bug_report_page.php?project_id=4">ServerExt bug tracker</a>.

<h2>License for LibHTTP4</h2>
<pre>
<a href="http://wiki.beyondunreal.com/wiki/LesserOpenUnrealModLicense">Lesser Open Unreal Mod License</a>
Version 1.1, September 2005

0. Definitions
"Program"       the work, either in binary or source form, that has a notice 
                attached to it stating that it has been released under this 
                license it by the copyright holder.
"Modification"  a derivate of the Program or any other work based on the Program
"Linking"       using parts of the Program, or using parts of any other work, 
                thus creating a direct dependency between two Programs.
"You"           the licensee
"Runtime Environment"
                the virtual machine or operating system required to run the 
                Program, as released by the Publisher or Creator of said
                runtime environment. This includes any extentions or updates
                for the runtime environment released by the Publisher or 
                Creator.

1. License
Herewith everybody is granted permission to copy and distribute verbatim copies 
of this document. The only restriction lies on changing the content, with the 
exception to translation of this license.

This license applies to the Program that has been released under this license. 
The license only applies to copying, distribution and modification of the 
Program. Execution or output of the Program are not covered by this license, 
however the right for additional limitations on the use (that do not cover 
copying, distribution or modification) is granted to the copyright holder.
This license is only valid when all terms in this license comply with the 
licenses of the dependecies of the Program. This includes the license of the
possible required runtime environment.

2. Copying and distribution
You are granted to copy or distribute verbatim copies of the Program, on any 
medium, or in any format as you see fit. You are not limited to charging a fee 
for the physical act of transferring the copy, nor are you limited to provide 
warranty for the Program in return of a fee. Unless this is prohibited by the
license of the Runtime Environment.

Any distribution of the program should be accompanied with a verbatim copy of 
this license.

3. Modification
You are allowed to modify the Program, or portions of it, therefore making it a 
derivate of the Program. You are allowed to distribute your Modifications under 
the following conditions:
        - You must clearly state that it is a modification of the Program
        - The original copyright notice must be kept intact
        - The modified files must contain notices of the changes made to it
        - The Modification must be released under the same license as the Program
        - Distribution happens in compliance with section 2

4. Source
The original source of the Program or Modification must be freely available on 
request.

5. Linking        
The license grants exclusive right to link with any non-free part of the 
Runtime Environment, as provided by the publisher or creator of said Runtime 
Environment. 
Using addapted portions of source code available in the runtime environment 
in the Program is only allowed under the following terms:
        - the addapted code is clearly marked to originate from the runtime
          environment, quoting the original copyright.
        - the following notice is added to the top of the file:
          "This file contains portions of code from the runtime environment."

6. NON WARRANTY
THIS SOFTWARE DOES NOT COME WITH A WARRANTY OF ANY KIND, UNLESS NOTED OTHERWISE 
BY THE COPYRIGHT HOLDER OR WARRANTY PROVIDER. THE ENTIRE RISK OF THE PERFORMANCE 
AND QUALITY OF THE PROGRAM LIES WITH YOU. SHOULD THE PROGRAM PROVE DEFECTIVE, 
YOU WILL ASSUME ALL COSTS FOR REQUIRED REPAIR OR CORRECTION.
</pre>
